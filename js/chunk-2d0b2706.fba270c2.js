(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b2706"],{"23b1":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"login-logo"}),a("div",{staticClass:"login-title"},[t._v("管理 Alpitter")]),a("form",{attrs:{action:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.adminLogin.apply(null,arguments)}}},[a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"account"}},[t._v("帳戶")]),a("span",{staticClass:"symbol"},[t._v("@")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form-control",attrs:{type:"text",name:"account",id:"account",required:"",autofocus:""},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),a("div",{staticClass:"login-error",staticStyle:{visibility:"none"}})]),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"password"}},[t._v("密碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",id:"password",required:"",autofocus:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("div",{staticClass:"login-error",staticStyle:{visibility:"none"}})]),a("button",{staticClass:"btn-login",attrs:{type:"submit"}},[t._v("登入")])]),a("div",{staticClass:"login-link"},[a("p",[a("router-link",{staticClass:"login-link-target",attrs:{to:"/signin"}},[t._v("前台登入")])],1)])])},s=[],n=a("1da1"),o=a("5530"),i=(a("96cf"),a("2f62")),u=a("eae4"),c=a("7696"),l={name:"AdminLogin",data:function(){return{account:"",password:""}},methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])(["setUser","setToken"])),{},{adminLogin:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.account){e.next=2;break}return e.abrupt("return",t.accountFill=!0);case 2:if(t.password){e.next=4;break}return e.abrupt("return",t.passwordFill=!0);case 4:if(t.password||t.account){e.next=7;break}return u["a"].fir({title:"請確認帳戶與密碼皆已填寫"}),e.abrupt("return");case 7:return e.prev=7,e.next=10,c["a"].signIn({account:t.account,password:t.password});case 10:if(a=e.sent,r=a.data,"success"===r.status){e.next=14;break}throw new Error(r.message);case 14:if("admin"===r.user.role||"user"===r.user.role){e.next=17;break}return u["a"].fire({title:"該帳戶含權限問題，請重新註冊"}),e.abrupt("return");case 17:if("user"!==r.user.role){e.next=23;break}return u["a"].fire({title:"此帳號不含登入權限"}),t.$router.push("/signin"),e.abrupt("return");case 23:"admin"===r.user.role&&(t.setUser(r.user),t.setToken(r.token),u["b"].fire({title:"登入成功"}),t.$router.push("/admin/tweets"));case 24:e.next=30;break;case 26:e.prev=26,e.t0=e["catch"](7),console.log(e.t0),u["a"].fire({title:"查無此帳戶，請確認是否註冊"});case 30:case"end":return e.stop()}}),e,null,[[7,26]])})))()}})},p=l,d=a("2877"),m=Object(d["a"])(p,r,s,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0b2706.fba270c2.js.map