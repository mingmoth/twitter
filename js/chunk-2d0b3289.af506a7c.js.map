{"version":3,"sources":["webpack:///./src/views/Settings.vue?5a13","webpack:///./src/components/Setting.vue?9a37","webpack:///src/components/Setting.vue","webpack:///./src/components/Setting.vue?6f63","webpack:///./src/components/Setting.vue","webpack:///src/views/Settings.vue","webpack:///./src/views/Settings.vue?6028","webpack:///./src/views/Settings.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","_m","attrs","on","$event","stopPropagation","preventDefault","handleSubmit","apply","arguments","_v","directives","name","rawName","value","user","expression","domProps","target","composing","$set","isProcessing","mixins","data","id","account","email","password","checkPassword","created","getCurrentUser","setUser","beforeRouteUpdate","currentUser","next","watch","computed","methods","Number","userId","$router","push","title","putUser","form","component","components","Sidebar"],"mappings":"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","file":"js/chunk-2d0b3289.af506a7c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"sidebar\"},[_c('Sidebar')],1),_c('div',{staticClass:\"home\"},[_c('Setting')],1),_c('div',{staticClass:\"popular\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_c('div',{staticClass:\"setting\"},[_c('form',{attrs:{\"action\":\"\"},on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"form-label-group\"},[_c('label',{attrs:{\"for\":\"account\"}},[_vm._v(\"帳號\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.account),expression:\"user.account\"}],attrs:{\"type\":\"text\",\"name\":\"account\",\"id\":\"account\"},domProps:{\"value\":(_vm.user.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"account\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"名稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.name),expression:\"user.name\"}],attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"name\"},domProps:{\"value\":(_vm.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],attrs:{\"type\":\"email\",\"name\":\"email\",\"id\":\"email\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],attrs:{\"type\":\"password\",\"name\":\"password\",\"id\":\"password\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group\"},[_c('label',{attrs:{\"for\":\"checkPassword\"}},[_vm._v(\"密碼確認\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.checkPassword),expression:\"user.checkPassword\"}],attrs:{\"type\":\"password\",\"name\":\"checkPassword\",\"id\":\"checkPassword\"},domProps:{\"value\":(_vm.user.checkPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"checkPassword\", $event.target.value)}}})]),_c('button',{staticClass:\"btn-setting\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isProcessing}},[_vm._v(\" 儲存 \")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"navTop\"},[_c('div',{staticClass:\"navTop-title\"},[_c('div',{staticClass:\"navTop-title-name\"},[_vm._v(\"帳戶設定\")])]),_c('img',{staticClass:\"navTop-logo\",attrs:{\"src\":require(\"../../public/images/ac logo.png\"),\"alt\":\"\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"navTop\">\r\n      <div class=\"navTop-title\">\r\n        <div class=\"navTop-title-name\">帳戶設定</div>\r\n      </div>\r\n      <img src=\"../../public/images/ac logo.png\" alt=\"\" class=\"navTop-logo\">\r\n    </div>\r\n    <div class=\"setting\">\r\n      <form action=\"\" @submit.stop.prevent=\"handleSubmit\">\r\n        <div class=\"form-label-group\">\r\n          <label for=\"account\">帳號</label>\r\n          <input\r\n            v-model=\"user.account\"\r\n            type=\"text\"\r\n            name=\"account\"\r\n            id=\"account\"\r\n          />\r\n        </div>\r\n        <div class=\"form-label-group\">\r\n          <label for=\"name\">名稱</label>\r\n          <input v-model=\"user.name\" type=\"text\" name=\"name\" id=\"name\" />\r\n        </div>\r\n        <div class=\"form-label-group\">\r\n          <label for=\"email\">Email</label>\r\n          <input v-model=\"user.email\" type=\"email\" name=\"email\" id=\"email\" />\r\n        </div>\r\n        <div class=\"form-label-group\">\r\n          <label for=\"password\">密碼</label>\r\n          <input\r\n            v-model=\"user.password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n          />\r\n        </div>\r\n        <div class=\"form-label-group\">\r\n          <label for=\"checkPassword\">密碼確認</label>\r\n          <input\r\n            v-model=\"user.checkPassword\"\r\n            type=\"password\"\r\n            name=\"checkPassword\"\r\n            id=\"checkPassword\"\r\n          />\r\n        </div>\r\n        <button type=\"submit\" class=\"btn-setting\" :disabled=\"isProcessing\">\r\n          儲存\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { userFeature } from \"../utils/mixins\";\r\nimport { errorToast } from \"../utils/toast\";\r\nexport default {\r\n  name: \"SettingForm\",\r\n  mixins: [userFeature],\r\n  data() {\r\n    return {\r\n      user: {\r\n        id: -1,\r\n        name: \"\",\r\n        account: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        checkPassword: \"\",\r\n      },\r\n      isProcessing: false,\r\n    };\r\n  },\r\n  created() {\r\n    if (this.getCurrentUser.id === -1) return;\r\n    const { id } = this.$route.params;\r\n    this.setUser(id)\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    if (this.currentUser.id === -1) return;\r\n    const { id } = to.params;\r\n    this.setUser(id);\r\n    next();\r\n  },\r\n  watch: {\r\n    getCurrentUser(user) {\r\n      if (user.id === -1) return;\r\n      const { id } = this.$route.params;\r\n      this.setUser(id);\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"getCurrentUser\"]),\r\n  },\r\n  methods: {\r\n    setUser(userId) {\r\n      if (Number(this.getCurrentUser.id) !== Number(userId)) {\r\n        this.$router.push({ name: \"tweets\" });\r\n        errorToast.fire({\r\n          title: \"無法查看非本人資訊\",\r\n        });\r\n        \r\n      }\r\n      this.user = {...this.getCurrentUser}\r\n    },\r\n    handleSubmit() {\r\n      if (\r\n        !this.user.account ||\r\n        !this.user.name ||\r\n        !this.user.email ||\r\n        !this.user.password ||\r\n        !this.user.checkPassword\r\n      ) {\r\n        errorToast.fire({\r\n          title: '請確認所有欄位皆已填寫'\r\n        })\r\n      }\r\n      if (this.user.password !== this.user.checkPassword) {\r\n        errorToast.fire({\r\n          title: '兩次密碼輸入不一致'\r\n        })\r\n      }\r\n      const form = {\r\n        account: this.user.account,\r\n        name: this.user.name,\r\n        email: this.user.email,\r\n        password: this.user.password,\r\n        checkPassword: this.user.checkPassword\r\n      }\r\n      this.putUser(Number(this.getCurrentUser.id), form)\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Setting.vue?vue&type=template&id=0a7b51d2&\"\nimport script from \"./Setting.vue?vue&type=script&lang=js&\"\nexport * from \"./Setting.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"sidebar\">\r\n      <Sidebar />\r\n    </div>\r\n    <div class=\"home\">\r\n      <Setting />\r\n    </div>\r\n    <div class=\"popular\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Sidebar from '../components/Sidebar.vue'\r\nimport Setting from '../components/Setting.vue'\r\n\r\n\r\nexport default {\r\n  name: 'Settings',\r\n  components: {\r\n    Sidebar, Setting\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=77af256f&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}